{"version":3,"file":"0.37022e9b6ee0da731835.hot-update.js","sources":["webpack:///./src/app/home/home.component.ts"],"sourcesContent":["import {Component, HostListener, Inject, OnInit} from \"@angular/core\";\nimport {PrismicService} from \"../prismic/prismic-service\";\nimport {InstagramService} from \"../shared/InstagramServices\";\nimport {EmailServices} from \"../shared/EmailServices\";\nimport {InstagramImage} from \"../shared/type.d\";\n\n@Component({\n  selector: \"home\",\n  styles: [require('./home.component.scss')],\n  template: require('./home.component.html'),\n})\nexport class HomeComponent implements OnInit {\n  public ctx: any;\n  public slider_docs: any = [];\n  public fashion_docs: any = [];\n  public fashion_loaded: boolean = false;\n  public beauty_docs: any = [];\n  public life_styles_docs: any = [];\n  public makeUp_docs: any = [];\n  public skinCare_docs: any = [];\n  public beautyTips_docs: any = [];\n  public hairAndNail_docs: any = [];\n  public talent_docs: any = [];\n  public collection_docs: any = [];\n  public instagramImages: InstagramImage[];\n  current_slide: number = 0;\n  igImageLimit: number = undefined;\n  video = {\n    ss: \"~assets/img/vid/vid1.jpg\",\n    url: \"https://www.youtube.com/watch?v=kmDMqzhvNLk\",\n  };\n\n  redirect(url) {\n    console.log(\"redirect\" + url);\n    window.open(url, \"_blank\");\n  }\n  \n  constructor(\n    private prismicService: PrismicService,\n     private instagramService: InstagramService,\n     private emailServices :EmailServices\n  ) {}\n\n  @HostListener(\"window:resize\", [\"$event\"])\n  public onResize(event) {\n    this.igImageLimit = this.calculateImageLimit(event.target.innerWidth, 100, 20);\n  }\n  emailSubscribe(formValue) {\n    console.log(formValue);\n    this.emailServices.emailSubscribe(formValue.email);\n  }\n  private calculateImageLimit(windowWidth, imageWidth, gutter){\n    // row padding-left = 15, row padding-right = 15\n    let n = (windowWidth - (2 * 15) + 20)  / (imageWidth + gutter);\n    console.log(n);\n    return n;\n  }\n  public async ngOnInit() {\n    document.body.scrollTop = 0;\n    this.ctx = await this.prismicService.buildContext();\n    // ig images\n    this.instagramService.getPictures().subscribe((instagramImages) => {\n        this.instagramImages = instagramImages;\n        this.igImageLimit = this.calculateImageLimit(window.innerWidth, 100, 20);\n      });\n\n    let response;\n    // slider\n    response = await this.ctx.api.query([this.ctx.Prismic.Predicates.at(\"document.type\", \"slider\")]);\n    this.slider_docs = response.results;\n    console.log(this.slider_docs[0]);\n\n    // fashionn\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WHIp5ikAALg6MBFc\", \"WKMVdiUAAFBBgJLB\", \"WHI-uykAAJJWMG0F\", \"WKMa4SUAADBCgKrr\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 6,\n    });\n    this.fashion_docs = response.results;\n    console.log(this.fashion_docs);\n    this.fashion_loaded = true;\n\n    // beauty and sub categories\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WKqliyYAAKRkYjfX\", \"WKqmfSYAAHdmYjwG\", \"WV0QLyUAAJ4H3eyj\", \"WV0QEyUAAFYG3ewg\", \"WKqmfSYAAHdmYjwG\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 1,\n    });\n    this.beauty_docs = response.results;\n\n    // make-up\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WKqliyYAAKRkYjfX\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      \"fetchLinks\": [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 1,\n    });\n    this.makeUp_docs = response.results;\n\n    // skincare\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at('document.type', \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WKqmfSYAAHdmYjwG\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 1,\n    });\n    this.skinCare_docs = response.results;\n\n    // beauty-tips\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WV0QLyUAAJ4H3eyj\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 1,\n    });\n    this.beautyTips_docs = response.results;\n\n    // hair-and-nail\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WV0QEyUAAFYG3ewg\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 1,\n    });\n    this.hairAndNail_docs = response.results;\n\n    // talent\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WWHwCScAAHxTSe92\", \"WWNkoScAAH-YUFZ6\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 4,\n    });\n    this.talent_docs = response.results;\n\n    // life styles\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"article\"),\n      this.ctx.Prismic.Predicates.any(\"my.article.link\", [\"WV0FKiUAAFUG3buM\", \"WV0FXyUAAFYG3bx_\", \"WV0FfiUAAJ4H3b0P\", \"WV0I1SUAAFIG3cvo\"]),\n    ], {\n      orderings: \"[my.article.date desc]\",\n      fetchLinks: [\"my.article.link\" , \"category.name\", \"category.menu\"],\n      pageSize: 5,\n    });\n    this.life_styles_docs = response.results;\n\n    // collection\n    response = await this.ctx.api.query([\n      this.ctx.Prismic.Predicates.at(\"document.type\", \"collection\"),\n      this.ctx.Prismic.Predicates.has(\"my.collection.review_title\"),\n    ], {\n      orderings: \"[my.collection.date desc]\",\n      fetchLinks: ['brand.name', 'season.name'],\n      pageSize: 4,\n    });\n    this.collection_docs = response.results;\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/ngc-webpack??ref--0-2!./node_modules/angular2-template-loader!./src/app/home/home.component.ts"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAQA;AA0BA;AACA;AACA;AACA;AA3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAWA;AATA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AASA;;;;AARA;AACA;AAAA;;AAAA;AACA;AACA;AACA;AACA;AACA;AAIA;;AADA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AARA;AACA;AAQA;;;;;AAEA;AAEA;AAAA;AAnIA;AADA;;;;AAGA;AAnCA;AALA;AACA;AACA;AACA;AACA;AA4BA;AACA;AACA;AA7BA;AAAA;;;;;A","sourceRoot":""}